<div class="container">
    <app-title *ngIf="language=='en'" [title]="title"></app-title>
    <app-title *ngIf="language=='cn'" [title]="title"></app-title>

    <ul class="items">
        <li class="row">
            <div class="other">
                <p>{{data.code}}</p>
                <span *ngIf="language=='en'">PO/JO</span>
                <span *ngIf="language=='cn'">生产单号</span>
            </div>
            <div class="other">
                <p>{{data.customername}}</p>
                <span *ngIf="language=='en'">Customer Name</span>
                <span *ngIf="language=='cn'">客户名称</span>
            </div>
            <div class="other">
                <p>{{data.pattern}}</p>
                <span *ngIf="language=='en'">Style No</span>
                <span *ngIf="language=='cn'">款号</span>
            </div>
        </li>
        <li class="row">
            <div class="other">
                <p>{{data.StarDate}}</p>
                <span *ngIf="language=='en'">Start Date</span>
                <span *ngIf="language=='cn'">开始时间</span>
            </div>
            <div class="other">
                <p>{{data.EndDate}}</p>
                <span *ngIf="language=='en'">End Date</span>
                <span *ngIf="language=='cn'">结束时间</span>
            </div>
            <div class="other">
                <p>{{data.amount}}</p>
                <span *ngIf="language=='en'">Order</span>
                <span *ngIf="language=='cn'">订单数</span>
            </div>
        </li>

        <li class="row">
            <div class="other">
                <p>{{data.CuttingAmount}}</p>
                <span *ngIf="language=='en'">Cutting Qty</span>
                <span *ngIf="language=='cn'">裁剪数</span>
            </div>
            <div class="other">
                <p>{{data.deliverydate}}</p>
                <span *ngIf="language=='en'">Delivery Date</span>
                <span *ngIf="language=='cn'">交货期</span>
            </div>
        </li>
    </ul>
    <div *ngIf="data.plan=='No'" class="submit_form">
        <p class="form_title" *ngIf="language=='en'"> Plan Requirements</p>
        <p class="form_title" *ngIf="language=='cn'"> 计划要求</p>
        <p class="form_row">
            <span *ngIf="language=='en'">Total Amount</span>
            <span *ngIf="language=='cn'">总数量</span>
            <input *ngIf="language=='cn'" type="text" name="total" [(ngModel)]="total" placeholder="输入数量">
            <input *ngIf="language=='en'" type="text" name="total" [(ngModel)]="total" placeholder="input qty">
        </p>
        <p class="form_row" (click)="state=true">
            <span *ngIf="language=='en'">Start</span>
            <span *ngIf="language=='cn'">开始日期</span>
            <i class="date">{{date}}</i>
        </p>
        <p class="form_row">
            <span *ngIf="language=='en'">Daily Quantity</span>
            <span *ngIf="language=='cn'">每日数量</span>
            <input *ngIf="language=='en'" type="text" [(ngModel)]="dayAmount" placeholder="input qty">
            <input *ngIf="language=='cn'" type="text" [(ngModel)]="dayAmount" placeholder="输入数量">
        </p>
    </div>

    <div *ngIf="data.plan=='Yes'">
        <p class="row_title" *ngIf="language=='en'"> Plan Requirements</p>
        <p class="row_title" *ngIf="language=='cn'"> 计划要求</p>
        <ul class="items">
            <li class="row">
                <div class="other">
                    <p>{{Plan.result.supplier}}</p>
                    <span *ngIf="language=='en'">Supplier</span>
                    <span *ngIf="language=='cn'">供应商</span>
                </div>
                <div class="other">
                    <p>{{Plan.result.totalCount}}</p>
                    <span *ngIf="language=='en'">Total Quantity</span>
                    <span *ngIf="language=='cn'">总数量</span>
                </div>
                <div class="other">
                    <p>{{Plan.result.produceTime}}</p>
                    <span *ngIf="language=='en'">Output Date</span>
                    <span *ngIf="language=='cn'">出产量日期</span>
                </div>
            </li>
            <li class="row">
                <div class="other">
                    <p>{{Plan.result.startTime}}</p>
                    <span *ngIf="language=='en'">Start Date</span>
                    <span *ngIf="language=='cn'">开始日期</span>
                </div>
                <div class="other">
                    <p>{{Plan.result.dayCount}}</p>
                    <span *ngIf="language=='en'">Daily Quantity</span>
                    <span *ngIf="language=='cn'">每日数量</span>
                </div>
                <div class="other">
                    <p>{{Plan.result.canDayCount}}</p>
                    <span *ngIf="language=='en'">Daily Output</span>
                    <span *ngIf="language=='cn'">可供日产量</span>
                </div>
            </li>
        </ul>

        <div class="entry_box" *ngIf="Plan.result.recording.length">
            <div class="entry_title">
                <span *ngIf="language=='en'" style="color: #088c77;">Daily External Records</span>
                <span *ngIf="language=='cn'" style="color: #088c77;">每日外发记录</span>
            </div>
            <div class="entry_title2">
                <span *ngIf="language=='en'" style="flex:0 0 20%;color: #088c77;">Date</span>
                <span *ngIf="language=='en'" style="flex:0 0 35%;color: #088c77;text-align: center;">number of outgoing</span>
                <span *ngIf="language=='en'" style="flex:0 0 25%;color: #088c77;text-align: center;">Return Number</span>
                <span *ngIf="language=='cn'" style="flex:0 0 20%;color: #088c77;">日期</span>
                <span *ngIf="language=='cn'" style="flex:0 0 35%;color: #088c77;text-align: center;">外发数量</span>
                <span *ngIf="language=='cn'" style="flex:0 0 25%;color: #088c77;text-align: center;">返厂数</span>
                <span style="flex:0 0 20%;color: #088c77;text-align: center;"></span>
            </div>
            <div *ngFor="let item of Plan.result.recording;let i=index" [ngClass]="{'background-white':i%2==0,'background-green':i%2!=0}" class="row_box">
                <span class="row1">{{item.date}}</span>
                <span class="row2">{{item.outgoingCount}}</span>
                <span class="row3">{{item.backFactory}}</span>
                <span class="row4"> {{item.reduce}}</span>
            </div>
        </div>

        <p class="row_title" *ngIf="data.isEnd==0 && language=='en'"> Daily External Records Input</p>
        <p class="row_title" *ngIf="data.isEnd==0 && language=='cn'"> 每日外发记录输入</p>
        <div class="submit_form" *ngIf="data.isEnd==0">
            <p class="form_row" (click)="state=true">
                <span *ngIf="language=='en'">Date</span>
                <span *ngIf="language=='cn'">日期</span>
                <i class="date">{{date}}</i>
            </p>
            <p class="form_row">
                <span *ngIf="language=='en'">Amount</span>
                <span *ngIf="language=='cn'">数量</span>
                <input *ngIf="language=='en'" type="text" name="day" [(ngModel)]="total" placeholder="input qty">
                <input *ngIf="language=='cn'" type="text" name="day" [(ngModel)]="total" placeholder="输入数量">
            </p>
        </div>
    </div>

    <div class="submitBox" *ngIf="data.plan=='No'">
        <button *ngIf="language=='cn'" (click)="next()">下一步</button>
        <button *ngIf="language=='en'" (click)="next()">Next</button>
    </div>
    <div class="submitBox" *ngIf="data.plan=='Yes' && data.isEnd==0">
        <button class="end" *ngIf="language=='cn'" (click)="change(data)">结束</button>
        <button class="end" *ngIf="language=='en'" (click)="change(data)">End</button>
        <button class="submit" *ngIf="language=='cn'" (click)="submit()">提交</button>
        <button class="submit" *ngIf="language=='en'" (click)="submit()">Submit</button>
    </div>
    <div class="cancelBox" *ngIf="data.plan=='Yes' && data.isEnd==1">
        <button class="end" *ngIf="language=='cn'" (click)="change(data)">取消已结束</button>
        <button class="end" *ngIf="language=='en'" (click)="change(data)">Cancel the end</button>
    </div>
    <app-date *ngIf="state" number="1" (submit)="backDate($event)"></app-date>
    <app-message-box [msg]="message.msg" (event)="message.state=false" [btnText]="message.btnText" [msgShow]="message.state"></app-message-box>
</div>